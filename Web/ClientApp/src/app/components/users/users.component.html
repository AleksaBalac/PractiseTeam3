<div class="row">
  <div class="col-md-12">
    <div>
      <h1>Users</h1>
    </div>

    <button class="pull-right user-button" mat-raised-button color="primary" (click)="openUserModal(null)">
      <mat-icon class="example-icon">add</mat-icon> Add User
    </button>
  </div>
</div>

<div class="row">
  <div class="col-md-12">

    <mat-spinner *ngIf="users.length == 0"></mat-spinner>

    <div *ngIf="users.length > 0" class="example-container mat-elevation-z8">
      <mat-table #table [dataSource]="dataSource">

        <ng-container matColumnDef="firstName">
          <mat-header-cell *matHeaderCellDef> First name </mat-header-cell>
          <mat-cell *matCellDef="let user"> {{user.firstName}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="lastName">
          <mat-header-cell *matHeaderCellDef> Last name </mat-header-cell>
          <mat-cell *matCellDef="let user"> {{user.lastName}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="email">
          <mat-header-cell *matHeaderCellDef> Email </mat-header-cell>
          <mat-cell *matCellDef="let user"> {{user.email}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="role">
          <mat-header-cell *matHeaderCellDef> Role </mat-header-cell>
          <mat-cell *matCellDef="let user"> {{user.role}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="action">
          <mat-header-cell *matHeaderCellDef> Action </mat-header-cell>

          <mat-cell *matCellDef="let user">

            <button color="primary" mat-raised-button (click)="openUserModal(user)">
              <mat-icon class="example-icon">edit</mat-icon> Edit
            </button>

            <button color="accent" mat-raised-button (click)="onDeleteUser(user)">
              <mat-icon class="example-icon">delete</mat-icon> Delete
            </button>

          </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
      </mat-table>

      <mat-paginator #paginator
                     [pageSize]="5"
                     [pageSizeOptions]="[5, 10, 20]"
                     [showFirstLastButtons]="true">
      </mat-paginator>
    </div>
  </div>
</div>
